{"version":3,"sources":["../src/index.js"],"names":["app","dotenv","config","mongoose","Promise","connect","process","env","MONGODB_URL","useNewUrlParser","error","engine","extname","set","use","bodyParse","json","req","res","next","header","orders","products","users","get","sendFile","path","join","__dirname","listen","PORT","console","log"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAEAC,iBAAOC,MAAP;;AAEAC,mBAASC,OAAT,GAAmBA,kBAAnB;;AAEAD,mBAASE,OAAT,CAAiBC,QAAQC,GAAR,CAAYC,WAA7B,EAA0C,EAAEC,iBAAiB,IAAnB,EAA1C,EAAqE,UAACC,KAAD,EAAW;AAC9E;AACA;AACA;AACD,CAJD;;AAMAV,IAAIW,MAAJ,CAAW,YAAX,EAAyB,iCAAO,EAACC,SAAS,MAAV,EAAP,CAAzB;;AAEAZ,IAAIa,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;;AAEAb,IAAIc,GAAJ,CAAQC,qBAAUC,IAAV,EAAR;;AAEAhB,IAAIc,GAAJ,CAAQ,UAACG,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAD;AACD,CAJD;;AAMAnB,IAAIc,GAAJ,CAAQ,aAAR,EAAuBO,gBAAvB;;AAEArB,IAAIc,GAAJ,CAAQ,eAAR,EAAyBQ,kBAAzB;;AAEAtB,IAAIc,GAAJ,CAAQ,YAAR,EAAsBS,eAAtB;;AAEAvB,IAAIwB,GAAJ,CAAQ,IAAR,EAAc,UAACP,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIO,QAAJ,CAAaC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAb;AACD,CAFD;;AAIA5B,IAAI6B,MAAJ,CAAWvB,QAAQC,GAAR,CAAYuB,IAAZ,IAAoB,IAA/B,EAAqC,YAAM;AAAEC,UAAQC,GAAR,CAAY,cAAZ;AAA6B,CAA1E;;kBAEehC,G","file":"index.js","sourcesContent":["import express from 'express'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport exphbs from 'express-handlebars'\r\nimport products from './routes/products'\r\nimport users from './routes/users'\r\nimport orders from './routes/orders'\r\nimport bodyParse from 'body-parser'\r\nimport dotenv from 'dotenv'\r\nimport Promise from 'bluebird'\r\n\r\nconst app = express()\r\n\r\ndotenv.config()\r\n\r\nmongoose.Promise = Promise\r\n\r\nmongoose.connect(process.env.MONGODB_URL, { useNewUrlParser: true }, (error) => {\r\n  // if(error) {\r\n  //   process.exit(1);\r\n  // }\r\n})\r\n\r\napp.engine('handlebars', exphbs({extname: '.hbs'}))\r\n\r\napp.set('view engine', '.hbs')\r\n\r\napp.use(bodyParse.json())\r\n\r\napp.use((req, res, next) => {\r\n  res.header(\"Access-Control-Allow-Origin\", \"*\")\r\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\")\r\n  next()\r\n})\r\n\r\napp.use('/api/orders', orders)\r\n\r\napp.use('/api/products', products)\r\n\r\napp.use('/api/users', users)\r\n\r\napp.get('/*', (req, res) => {\r\n  res.sendFile(path.join(__dirname, 'index.html'))\r\n})\r\n\r\napp.listen(process.env.PORT || 4000, () => { console.log('Listening...') })\r\n\r\nexport default app"]}